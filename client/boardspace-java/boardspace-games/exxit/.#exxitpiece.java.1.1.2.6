package exxit;
import online.common.G;
public class ExxitPiece implements ExxitConstants
{
	  private int imageIndex = 0;		// unique id for this piece
	  int typecode; 			// index into ImageFileNames etc.
	  int seq=0;				// sequenceNumber for this bug
	  ExxitCell location=null;	// where this piece currently resides
	  ExxitCell home_location=null;
	  public String prettyName = "";	// short bug name
	  public int player=-1;		// owning player
	  public ExxitPiece(int pIndex,int type,int pl,int seqn)
	  {	imageIndex = pIndex;
	  	typecode = type;
	  	player = pl;
	  	seq = seqn;
	  	prettyName = (type==TILE_TYPE) ? TILE_NAMES[pl] : CHIP_NAMES[pl];
	  }
	  public void setColor(int cl)
	  {	G.Assert(typecode==TILE_TYPE,"can only change tiles");
	  	player = cl;
	  	imageIndex = typecode*2+cl;
	  	prettyName = TILE_NAMES[player];
	  }
	  public int Digest() { return(seq); }
	  public String toString() 
	  { String loc = (location==null)?"@nowhere":("@"+location.col+location.row);
	    return("<" + prettyName+"#"+seq+loc+">");
	  }

	  public int imageIndex(boolean flip) 
	  { return(flip?imageIndex^1:imageIndex);
	  }
  
}
